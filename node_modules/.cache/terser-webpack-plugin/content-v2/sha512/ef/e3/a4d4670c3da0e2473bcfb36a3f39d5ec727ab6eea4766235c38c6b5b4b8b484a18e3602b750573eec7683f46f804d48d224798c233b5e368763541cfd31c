{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{481:function(e,a,t){\"use strict\";t.r(a);t(47),t(15),t(66),t(74),t(68),t(248),t(76);var r=t(17),n=t(84),i=t.n(n),s={data:function(){return{message:\"\",url:\"\",file:null,fileName:\"\"}},methods:{onChange:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function a(){var t,r,n;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=[\"image/jpeg\",\"image/jpg\",\"image/jfif\",\"image/pjpeg\",\"image/pjp\",\"image/gif\",\"image/png\",\"image/webp\"],!(r=e.$refs.file.files[0])){a.next=14;break}return e.file=r,e.url=URL.createObjectURL(r),e.image=new Image,t.includes(r.type)||(e.message=\"Falsches Dateiformat\"),r.size>1e5&&(e.message=\"Datei zu gro√ü\"),a.next=10,e.saveImageToServer();case 10:n={fileName:e.fileName,url:e.url},e.$emit(\"uploaded\",n),a.next=15;break;case 14:e.url=\"\";case 15:case\"end\":return a.stop()}}),a)})))()},saveImageToServer:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function a(){var t,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append(\"file\",e.file),a.prev=2,a.next=5,i.a.post(\"/api/image/uploadImage/\",t);case 5:r=a.sent,e.message=\"Uploaded!\",e.fileName=r.data.file.filename,a.next=14;break;case 10:a.prev=10,a.t0=a.catch(2),console.log(a.t0),e.message=\"Something went wrong!!\";case 14:case\"end\":return a.stop()}}),a,null,[[2,10]])})))()}}},o=t(55),u=Object(o.a)(s,(function(){var e=this.$createElement,a=this._self._c||e;return a(\"div\",[a(\"form\",{attrs:{enctype:\"multipart/form-data\"}},[a(\"input\",{ref:\"file\",attrs:{type:\"file\"},on:{change:this.onChange}})]),this._v(\" \"),a(\"div\",[a(\"h5\",[this._v(this._s(this.message))])]),this._v(\" \"),a(\"br\"),this._v(\" \"),a(\"br\")])}),[],!1,null,null,null);a.default=u.exports}}]);","extractedComments":[]}