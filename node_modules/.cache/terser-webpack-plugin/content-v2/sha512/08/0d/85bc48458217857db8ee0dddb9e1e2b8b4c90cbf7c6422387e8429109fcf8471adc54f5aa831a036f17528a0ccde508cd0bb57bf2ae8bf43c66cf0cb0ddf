{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[9,10,11,12,13,14,16],{398:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),Object.defineProperty(t,\"withParams\",{enumerable:!0,get:function(){return i.default}}),t.regex=t.ref=t.len=t.req=void 0;var r,i=(r=n(449))&&r.__esModule?r:{default:r};function a(e){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var o=function(e){if(Array.isArray(e))return!!e.length;if(null==e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(\"object\"===a(e)){for(var t in e)return!0;return!1}return!!String(e).length};t.req=o;t.len=function(e){return Array.isArray(e)?e.length:\"object\"===a(e)?Object.keys(e).length:String(e).length};t.ref=function(e,t,n){return\"function\"==typeof e?e.call(t,n):n[e]};t.regex=function(e,t){return(0,i.default)({type:e},(function(e){return!o(e)||t.test(e)}))}},400:function(e,t,n){\"use strict\";n.d(t,\"f\",(function(){return p})),n.d(t,\"h\",(function(){return m})),n.d(t,\"e\",(function(){return y})),n.d(t,\"g\",(function(){return g})),n.d(t,\"b\",(function(){return O})),n.d(t,\"i\",(function(){return v})),n.d(t,\"j\",(function(){return b})),n.d(t,\"d\",(function(){return j})),n.d(t,\"a\",(function(){return w})),n.d(t,\"k\",(function(){return x})),n.d(t,\"c\",(function(){return I}));n(27),n(56),n(99),n(47),n(49),n(15),n(69),n(420),n(66),n(74),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(68);var r=n(402),i=n(35),a=n(34),o=n(29),u=n(16),l=n(19),c=n(532);function s(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}function f(e,t){var n;if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if(\"string\"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function e(t,n,r){Object(l.a)(this,e);var i,a=f(t);try{for(a.s();!(i=a.n()).done;){var o,u=i.value,c=f(n);try{for(c.s();!(o=c.n()).done;){var s=o.value;if(u.fileId===s.fileId){u.label=s.label,u.schemaId=s.schemaId;var d,p=f(r);try{for(p.s();!(d=p.n()).done;){var h=d.value;s.schemaId===h.id&&(u.isLeaf=h.metadata.isLeaf)}}catch(e){p.e(e)}finally{p.f()}}}}catch(e){c.e(e)}finally{c.f()}}}catch(e){a.e(e)}finally{a.f()}return t},h=function e(t){Object(l.a)(this,e),this.directoryCopy=JSON.parse(JSON.stringify(t))},m=function(e){Object(a.a)(n,e);var t=s(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:\"unflattenTree\",value:function(e){function t(e,t){var n=e.position,r=t.position,i=0;return n>r?i=1:n<r&&(i=-1),i}return function(e){for(var n,r,i=[],a={},o=0,u=e.length;o<u;o++)a[(n=e[o]).id]=n,a[n.id].children=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&((r=a[l]).parentId?a[r.parentId]&&(a[r.parentId].children.push(r),a[r.parentId].children.sort(t)):(i.push(r),i.sort(t)));return i}(e)}}]),n}(h),v=function(e){Object(a.a)(n,e);var t=s(n);function n(e,r,i){var a;Object(l.a)(this,n),a=t.call(this,e);var o=JSON.stringify(a.directoryCopy);a.orphanedFiles=[];var u,c=f(r);try{var s=function(){var e=u.value;if(!o.includes(e.fileId)){e.id=e.fileId;var t=i.find((function(t){return t.id===e.schemaId}));e.isLeaf=t.metadata.isLeaf,a.orphanedFiles.push(e)}};for(c.s();!(u=c.n()).done;)s()}catch(e){c.e(e)}finally{c.f()}return a}return n}(h),y=function(e){Object(a.a)(n,e);var t=s(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:\"changeVisibility\",value:function(e){var t=this.directoryCopy.find((function(t){return t.id===e}));t.isVisible=!t.isVisible}},{key:\"changeName\",value:function(e,t){var n,r=f(this.directoryCopy.filter((function(t){return t.fileId===e})));try{for(r.s();!(n=r.n()).done;){n.value.label=t}}catch(e){r.e(e)}finally{r.f()}}}]),n}(h),b=function(e){Object(a.a)(n,e);var t=s(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:\"getParentOfEntity\",value:function(e){if(e.parentId)return this.directoryCopy.find((function(t){return t.id===e.parentId}));var t=this.directoryCopy.find((function(t){return t.id===e.id}));return this.directoryCopy.find((function(e){return e.id===t.parentId}))}},{key:\"getAllParentsToFile\",value:function(e){var t,n=this,r=[],i=f(this.directoryCopy.filter((function(t){return t.fileId===e})));try{for(i.s();!(t=i.n()).done;){var a=t.value;r.push(a.parentId)}}catch(e){i.e(e)}finally{i.f()}var o=[];if(r.length>0){var u,l=f(r);try{var c=function(){var e=u.value,t=n.directoryCopy.find((function(t){return t.id===e}));t&&o.push(t.id)};for(l.s();!(u=l.n()).done;)c()}catch(e){l.e(e)}finally{l.f()}}return o}}]),n}(h),g=function(e){Object(a.a)(n,e);var t=s(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:\"moveDown\",value:function(e){var t=this.directoryCopy.find((function(t){return t.id===e})),n=this.directoryCopy.find((function(e){return e.parentId===t.parentId&&e.position===t.position+1}));n&&(t.position=t.position+1,n.position=n.position-1)}},{key:\"moveUp\",value:function(e){var t=this.directoryCopy.find((function(t){return t.id===e})),n=this.directoryCopy.find((function(e){return e.parentId===t.parentId&&e.position===t.position-1}));n&&(t.position=t.position-1,n.position=n.position+1)}}]),n}(h),O=function(e){Object(a.a)(n,e);var t=s(n);function n(e,r){var i;return Object(l.a)(this,n),(i=t.call(this,e)).arrayWithDeletedEntity=i.directoryCopy.filter((function(e){return e.id!==r})),i}return n}(h);var j=function(e){Object(a.a)(n,e);var t=s(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).flatDirectoryWithoutLeaves=r.directoryCopy.filter((function(e){return!1===e.isLeaf})),r}return Object(i.a)(n,[{key:\"unflattenLeavelessTree\",value:function(e){return e?this.unflattenTree(e):this.unflattenTree(this.flatDirectoryWithoutLeaves)}},{key:\"removeEntityByFileId\",value:function(e){return this.flatDirectoryWithoutLeaves.filter((function(t){return t.fileId!==e}))}}]),n}(m),w=function(e){Object(a.a)(n,e);var t=s(n);function n(e,r,i){var a;if(Object(l.a)(this,n),a=t.call(this,e),!r.isLeaf&&a.directoryCopy.some((function(e){return e.fileId===r.fileId}))){a.directoryCopy.find((function(e){return e.fileId===r.fileId})).parentId=i[0]}else{var o=a.directoryCopy.filter((function(e){return i.includes(e.parentId)||e.fileId!==r.fileId})),u=o.filter((function(e){return e.fileId===r.fileId})),s=[];if(u){var d,p=f(u);try{for(p.s();!(d=p.n()).done;){var h=d.value;s.push(h.parentId)}}catch(e){p.e(e)}finally{p.f()}}var m=function(e,t){for(var n=[],r=[],i=0;i<e.length;i++)n[e[i]]=!0;for(var a=0;a<t.length;a++)n[t[a]]?delete n[t[a]]:n[t[a]]=!0;for(var o in n)r.push(o);return r}(s,i);if(m){var v,y=f(m);try{var b=function(){var e=v.value,t=JSON.parse(JSON.stringify(r));t.parentId=e,t.isVisible=!1;var n=o.filter((function(t){return t.parentId===e}));if(n.length>0){var i=Math.max.apply(Math,n.map((function(e){return e.position})));t.position=i+1}else t.position=1;t.id=Object(c.a)(),o.push(t)};for(y.s();!(v=y.n()).done;)b()}catch(e){y.e(e)}finally{y.f()}}a.directoryCopy=o}return a}return n}(h),x=function(e){Object(a.a)(n,e);var t=s(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:\"inEntity\",value:function(e){var t,n=1,r=f(this.directoryCopy.filter((function(t){return t.parentId===e})));try{for(r.s();!(t=r.n()).done;){t.value.position=n,n+=1}}catch(e){r.e(e)}finally{r.f()}return this.directoryCopy}}]),n}(h);var I=function(e){Object(a.a)(n,e);var t=s(n);function n(e,i,a){var o;Object(l.a)(this,n);var u,c=[],s=f((o=t.call(this,e)).directoryCopy);try{for(s.s();!(u=s.n()).done;){var d=u.value;i.includes(d.schemaId)&&d.fileId!==a&&c.push(d)}}catch(e){s.e(e)}finally{s.f()}if(c.length>0){var p=function e(t,n){var r,i=[],a=f(t);try{var o=function(){var e=r.value;if(!i.some((function(t){return t.id===e.id}))){var t,a=f(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;\"0\"===o.parentId.toString()||e.id!==o.parentId||i.includes(e)||i.push(e)}}catch(e){a.e(e)}finally{a.f()}}};for(a.s();!(r=a.n()).done;)o()}catch(e){a.e(e)}finally{a.f()}var u=[];return i.length>0&&(u=e(t,i)),i.concat(u)}(o.directoryCopy,c),h=Object(r.a)(new Set(p));o.result=c.concat(h)}else o.result=c;return o}return n}(h)},403:function(e,t,n){\"use strict\";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,\"a\",(function(){return r}))},408:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));n(59);var r=n(447),i=function(e){return Object.keys(e).reduce((function(t,n){var i=e[parseInt(n)];if(!Object.prototype.hasOwnProperty.call(i,\"validations\"))return t;var a={};for(var o in i.validations){var u=i.validations[o].params;a[o]=u?r[o](u):r[o]}return t[n]=a,t}),{})}},409:function(e,t,n){var r=n(472);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]),r.locals&&(e.exports=r.locals);(0,n(21).default)(\"771d56b1\",r,!0,{sourceMap:!1})},410:function(e,t,n){var r=n(474);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]),r.locals&&(e.exports=r.locals);(0,n(21).default)(\"3bd7077c\",r,!0,{sourceMap:!1})},411:function(e,t,n){var r=n(476);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]),r.locals&&(e.exports=r.locals);(0,n(21).default)(\"50290ed2\",r,!0,{sourceMap:!1})},416:function(e,t,n){var r=n(495);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]),r.locals&&(e.exports=r.locals);(0,n(21).default)(\"5a0fbd9e\",r,!0,{sourceMap:!1})},417:function(e,t,n){var r=n(497);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]),r.locals&&(e.exports=r.locals);(0,n(21).default)(\"2ef447f3\",r,!0,{sourceMap:!1})},418:function(e,t,n){\"use strict\";n.r(t);n(99);var r=n(3),i=n(65);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={inheritAttrs:!1,props:{elementId:{type:String,required:!0},name:{type:String,required:!0},label:{type:String,required:!0},hasError:{type:Boolean,default:!1}},data:function(){return{text:\"\"}},computed:o(o({},Object(i.b)({fileData:\"file/getFileData\"})),{},{watchFileData:function(){return this.fileData},watchText:function(){return this.text}}),watch:{watchFileData:{deep:!0,handler:function(){this.findData()}},watchText:function(){var e={elementId:this.elementId,data:{text:this.text}};this.$store.commit(\"file/setEnteredData\",e)}},mounted:function(){this.findData()},methods:{findData:function(){var e=this,t=this.fileData.find((function(t){return t.elementId===e.elementId}));this.res=t,this.text=t?t.data.text:\"\"}}},l=(n(471),n(55)),c=Object(l.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"input\"},[\"checkbox\"===e.$attrs.type?n(\"input\",e._g(e._b({directives:[{name:\"model\",rawName:\"v-model\",value:e.text,expression:\"text\"}],class:{error:e.hasError,green:!e.hasError},attrs:{id:e.name,\"aria-describedby\":e.name+\"-error\",type:\"checkbox\"},domProps:{checked:Array.isArray(e.text)?e._i(e.text,null)>-1:e.text},on:{change:function(t){var n=e.text,r=t.target,i=!!r.checked;if(Array.isArray(n)){var a=e._i(n,null);r.checked?a<0&&(e.text=n.concat([null])):a>-1&&(e.text=n.slice(0,a).concat(n.slice(a+1)))}else e.text=i}}},\"input\",e.$attrs,!1),Object.assign({},e.$listeners,{input:function(t){return e.$emit(\"input\",t.target.value)}}))):\"radio\"===e.$attrs.type?n(\"input\",e._g(e._b({directives:[{name:\"model\",rawName:\"v-model\",value:e.text,expression:\"text\"}],class:{error:e.hasError,green:!e.hasError},attrs:{id:e.name,\"aria-describedby\":e.name+\"-error\",type:\"radio\"},domProps:{checked:e._q(e.text,null)},on:{change:function(t){e.text=null}}},\"input\",e.$attrs,!1),Object.assign({},e.$listeners,{input:function(t){return e.$emit(\"input\",t.target.value)}}))):n(\"input\",e._g(e._b({directives:[{name:\"model\",rawName:\"v-model\",value:e.text,expression:\"text\"}],class:{error:e.hasError,green:!e.hasError},attrs:{id:e.name,\"aria-describedby\":e.name+\"-error\",type:e.$attrs.type},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}},\"input\",e.$attrs,!1),Object.assign({},e.$listeners,{input:function(t){return e.$emit(\"input\",t.target.value)}})))])}),[],!1,null,\"4445af2c\",null);t.default=c.exports},419:function(e,t,n){\"use strict\";n.r(t);n(99);var r=n(3),i=n(65);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={inheritAttrs:!1,props:{elementId:{type:String,required:!0},name:{type:String,required:!0},label:{type:String,required:!0},hasError:{type:Boolean,default:!1}},data:function(){return{text:\"\"}},computed:o(o({},Object(i.b)({fileData:\"file/getFileData\"})),{},{watchFileData:function(){return this.fileData},watchText:function(){return this.text}}),watch:{watchFileData:{deep:!0,handler:function(){this.findData()}},watchText:function(){var e={elementId:this.elementId,data:{text:this.text}};this.$store.commit(\"file/setEnteredData\",e)}},mounted:function(){this.findData()},methods:{findData:function(){var e=this,t=this.fileData.find((function(t){return t.elementId===e.elementId}));this.res=t,this.text=t?t.data.text:\"\"}}},l=(n(473),n(55)),c=Object(l.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"input\"},[\"checkbox\"===e.$attrs.type?n(\"input\",e._g(e._b({directives:[{name:\"model\",rawName:\"v-model\",value:e.text,expression:\"text\"}],class:{error:e.hasError,green:!e.hasError},attrs:{id:e.name,\"aria-describedby\":e.name+\"-error\",type:\"checkbox\"},domProps:{checked:Array.isArray(e.text)?e._i(e.text,null)>-1:e.text},on:{change:function(t){var n=e.text,r=t.target,i=!!r.checked;if(Array.isArray(n)){var a=e._i(n,null);r.checked?a<0&&(e.text=n.concat([null])):a>-1&&(e.text=n.slice(0,a).concat(n.slice(a+1)))}else e.text=i}}},\"input\",e.$attrs,!1),Object.assign({},e.$listeners,{input:function(t){return e.$emit(\"input\",t.target.value)}}))):\"radio\"===e.$attrs.type?n(\"input\",e._g(e._b({directives:[{name:\"model\",rawName:\"v-model\",value:e.text,expression:\"text\"}],class:{error:e.hasError,green:!e.hasError},attrs:{id:e.name,\"aria-describedby\":e.name+\"-error\",type:\"radio\"},domProps:{checked:e._q(e.text,null)},on:{change:function(t){e.text=null}}},\"input\",e.$attrs,!1),Object.assign({},e.$listeners,{input:function(t){return e.$emit(\"input\",t.target.value)}}))):n(\"input\",e._g(e._b({directives:[{name:\"model\",rawName:\"v-model\",value:e.text,expression:\"text\"}],class:{error:e.hasError,green:!e.hasError},attrs:{id:e.name,\"aria-describedby\":e.name+\"-error\",type:e.$attrs.type},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}},\"input\",e.$attrs,!1),Object.assign({},e.$listeners,{input:function(t){return e.$emit(\"input\",t.target.value)}})))])}),[],!1,null,\"703b3425\",null);t.default=c.exports},447:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),Object.defineProperty(t,\"alpha\",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,\"alphaNum\",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,\"numeric\",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,\"between\",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,\"email\",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,\"ipAddress\",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,\"macAddress\",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,\"maxLength\",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,\"minLength\",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,\"required\",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,\"requiredIf\",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,\"requiredUnless\",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,\"sameAs\",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,\"url\",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,\"or\",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,\"and\",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,\"not\",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,\"minValue\",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,\"maxValue\",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(t,\"integer\",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,\"decimal\",{enumerable:!0,get:function(){return x.default}}),t.helpers=void 0;var r=P(n(448)),i=P(n(451)),a=P(n(452)),o=P(n(453)),u=P(n(454)),l=P(n(455)),c=P(n(456)),s=P(n(457)),f=P(n(458)),d=P(n(459)),p=P(n(460)),h=P(n(461)),m=P(n(462)),v=P(n(463)),y=P(n(464)),b=P(n(465)),g=P(n(466)),O=P(n(467)),j=P(n(468)),w=P(n(469)),x=P(n(470)),I=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(398));function P(e){return e&&e.__esModule?e:{default:e}}t.helpers=I},448:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=(0,n(398).regex)(\"alpha\",/^[a-zA-Z]*$/);t.default=r},449:function(e,t,n){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=\"web\"===e.env.BUILD?n(450).withParams:n(251).withParams;t.default=r}).call(this,n(105))},450:function(e,t,n){\"use strict\";(function(e){function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.withParams=void 0;var r=\"undefined\"!=typeof window?window:void 0!==e?e:{},i=r.vuelidate?r.vuelidate.withParams:function(e,t){return\"object\"===n(e)&&void 0!==t?t:e((function(){}))};t.withParams=i}).call(this,n(41))},451:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=(0,n(398).regex)(\"alphaNum\",/^[a-zA-Z0-9]*$/);t.default=r},452:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=(0,n(398).regex)(\"numeric\",/^[0-9]*$/);t.default=r},453:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(398);t.default=function(e,t){return(0,r.withParams)({type:\"between\",min:e,max:t},(function(n){return!(0,r.req)(n)||(!/\\s/.test(n)||n instanceof Date)&&+e<=+n&&+t>=+n}))}},454:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=(0,n(398).regex)(\"email\",/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/);t.default=r},455:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(398),i=(0,r.withParams)({type:\"ipAddress\"},(function(e){if(!(0,r.req)(e))return!0;if(\"string\"!=typeof e)return!1;var t=e.split(\".\");return 4===t.length&&t.every(a)}));t.default=i;var a=function(e){if(e.length>3||0===e.length)return!1;if(\"0\"===e[0]&&\"0\"!==e)return!1;if(!e.match(/^\\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},456:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(398);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\":\";return(0,r.withParams)({type:\"macAddress\"},(function(t){if(!(0,r.req)(t))return!0;if(\"string\"!=typeof t)return!1;var n=\"string\"==typeof e&&\"\"!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==n&&(6===n.length||8===n.length)&&n.every(i)}))};var i=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},457:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(398);t.default=function(e){return(0,r.withParams)({type:\"maxLength\",max:e},(function(t){return!(0,r.req)(t)||(0,r.len)(t)<=e}))}},458:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(398);t.default=function(e){return(0,r.withParams)({type:\"minLength\",min:e},(function(t){return!(0,r.req)(t)||(0,r.len)(t)>=e}))}},459:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(398),i=(0,r.withParams)({type:\"required\"},(function(e){return\"string\"==typeof e?(0,r.req)(e.trim()):(0,r.req)(e)}));t.default=i},460:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(398);t.default=function(e){return(0,r.withParams)({type:\"requiredIf\",prop:e},(function(t,n){return!(0,r.ref)(e,this,n)||(0,r.req)(t)}))}},461:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(398);t.default=function(e){return(0,r.withParams)({type:\"requiredUnless\",prop:e},(function(t,n){return!!(0,r.ref)(e,this,n)||(0,r.req)(t)}))}},462:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(398);t.default=function(e){return(0,r.withParams)({type:\"sameAs\",eq:e},(function(t,n){return t===(0,r.ref)(e,this,n)}))}},463:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=(0,n(398).regex)(\"url\",/^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#]\\S*)?$/i);t.default=r},464:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(398);t.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.withParams)({type:\"or\"},(function(){for(var e=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.length>0&&t.reduce((function(t,n){return t||n.apply(e,r)}),!1)}))}},465:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(398);t.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.withParams)({type:\"and\"},(function(){for(var e=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.length>0&&t.reduce((function(t,n){return t&&n.apply(e,r)}),!0)}))}},466:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(398);t.default=function(e){return(0,r.withParams)({type:\"not\"},(function(t,n){return!(0,r.req)(t)||!e.call(this,t,n)}))}},467:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(398);t.default=function(e){return(0,r.withParams)({type:\"minValue\",min:e},(function(t){return!(0,r.req)(t)||(!/\\s/.test(t)||t instanceof Date)&&+t>=+e}))}},468:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=n(398);t.default=function(e){return(0,r.withParams)({type:\"maxValue\",max:e},(function(t){return!(0,r.req)(t)||(!/\\s/.test(t)||t instanceof Date)&&+t<=+e}))}},469:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=(0,n(398).regex)(\"integer\",/(^[0-9]*$)|(^-[0-9]+$)/);t.default=r},470:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=(0,n(398).regex)(\"decimal\",/^[-]?\\d*(\\.\\d+)?$/);t.default=r},471:function(e,t,n){\"use strict\";n(409)},472:function(e,t,n){var r=n(20)(!1);r.push([e.i,\"input[data-v-4445af2c]{width:100%;padding:.375rem .75rem;font-size:1rem;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}input.error[data-v-4445af2c]{border-color:#721c24}input.green[data-v-4445af2c]{border-color:green;border-width:2px}\",\"\"]),e.exports=r},473:function(e,t,n){\"use strict\";n(410)},474:function(e,t,n){var r=n(20)(!1);r.push([e.i,\"input[data-v-703b3425]{width:100%;padding:.375rem .75rem;font-size:1rem;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}input.error[data-v-703b3425]{border-color:#721c24}input.green[data-v-703b3425]{border-color:green;border-width:2px}\",\"\"]),e.exports=r},475:function(e,t,n){\"use strict\";n(411)},476:function(e,t,n){var r=n(20)(!1);r.push([e.i,\".position{color:#fff;width:30px}\",\"\"]),e.exports=r},480:function(e,t,n){var r=n(527);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]),r.locals&&(e.exports=r.locals);(0,n(21).default)(\"3977fd20\",r,!0,{sourceMap:!1})},481:function(e,t,n){\"use strict\";n.r(t);n(47),n(15),n(66),n(74),n(68),n(248),n(76);var r=n(17),i=n(84),a=n.n(i),o={data:function(){return{message:\"\",url:\"\",file:null,fileName:\"\"}},methods:{onChange:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[\"image/jpeg\",\"image/jpg\",\"image/jfif\",\"image/pjpeg\",\"image/pjp\",\"image/gif\",\"image/png\",\"image/webp\"],!(r=e.$refs.file.files[0])){t.next=14;break}return e.file=r,e.url=URL.createObjectURL(r),e.image=new Image,n.includes(r.type)||(e.message=\"Falsches Dateiformat\"),r.size>1e5&&(e.message=\"Datei zu groß\"),t.next=10,e.saveImageToServer();case 10:i={fileName:e.fileName,url:e.url},e.$emit(\"uploaded\",i),t.next=15;break;case 14:e.url=\"\";case 15:case\"end\":return t.stop()}}),t)})))()},saveImageToServer:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append(\"file\",e.file),t.prev=2,t.next=5,a.a.post(\"/api/image/uploadImage/\",n);case 5:r=t.sent,e.message=\"Uploaded!\",e.fileName=r.data.file.filename,t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0),e.message=\"Something went wrong!!\";case 14:case\"end\":return t.stop()}}),t,null,[[2,10]])})))()}}},u=n(55),l=Object(u.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",[t(\"form\",{attrs:{enctype:\"multipart/form-data\"}},[t(\"input\",{ref:\"file\",attrs:{type:\"file\"},on:{change:this.onChange}})]),this._v(\" \"),t(\"div\",[t(\"h5\",[this._v(this._s(this.message))])]),this._v(\" \"),t(\"br\"),this._v(\" \"),t(\"br\")])}),[],!1,null,null,null);t.default=l.exports},482:function(e,t,n){\"use strict\";n.r(t);n(56),n(99),n(47),n(66);var r=n(3),i=n(532),a=n(65),o=n(400);function u(e,t){var n;if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if(\"string\"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={props:{elementId:{type:String,required:!0},name:{type:String,required:!0},label:{type:String,required:!0},hasError:{type:Boolean,default:!1}},data:function(){return{relationshipsArray:[],directoryWithOnlyAllowedEntitiesAndParents:[]}},computed:s(s({},Object(a.b)({fileValues:\"file/getFileValues\",schemaElements:\"schema/getSchemaElements\",relationships:\"relationship/getRelationships\",storeDirestory:\"directory/getDirectory\"})),{},{watchRelationships:function(){return this.relationships},relationshipsWithoutOwnFileId:function(){var e=this;return this.relationshipsArray.filter((function(t){return t.fileId!==e.fileValues.id}))}}),watch:{watchRelationships:{deep:!0,handler:function(){this.findData()}}},mounted:function(){this.findData()},methods:{findData:function(){var e,t=this,n=u(this.relationships);try{var r=function(){var n=e.value,r=t.storeDirestory.find((function(e){return e.fileId===n.fileId}));r&&(n.label=r.label,n.isLeaf=r.isLeaf)};for(n.s();!(e=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}this.relationshipsArray=JSON.parse(JSON.stringify(this.relationships.filter((function(e){return e.elementId===t.elementId})))),this.filterDirectory()},filterDirectory:function(){var e,t=this,n=u(this.schemaElements);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.elementId===this.elementId){var i,a=new o.c(this.storeDirestory,r.parameters.selectedSchemaIds,this.fileValues.id),l=u(a.result);try{var c=function(){var e=i.value;r.parameters.selectedSchemaIds.includes(e.schemaId)||(e.locked=!0),t.relationships.some((function(t){return t.fileId===e.fileId}))&&(e.checked=!0)};for(l.s();!(i=l.n()).done;)c()}catch(e){l.e(e)}finally{l.f()}var s=new o.h(a.result);this.directoryWithOnlyAllowedEntitiesAndParents=s.unflattenTree(s.directoryCopy)}}}catch(e){n.e(e)}finally{n.f()}},updatePosition:function(e){this.$store.commit(\"relationship/updateElementInRelationships\",e)},addRelationship:function(e){var t=Object(i.a)(),n=[{relationshipId:t,fileId:this.fileValues.id,position:null,elementId:this.elementId},{relationshipId:t,fileId:e.fileId,position:null,elementId:this.elementId}];this.$store.commit(\"relationship/addRelationships\",n)},removeRelationship:function(e){var t,n=u(this.relationships);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.fileId===e.fileId&&this.$store.commit(\"relationship/deleteRelationships\",r.relationshipId)}}catch(e){n.e(e)}finally{n.f()}}}},d=(n(475),n(55)),p=n(67),h=n.n(p),m=n(385),v=n(567),y=n(545),b=n(399),g=n(569),O=n(547),j=n(596),w=Object(d.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",[n(\"v-list\",{attrs:{dense:\"\"}},[n(\"v-list-item-group\",e._l(e.relationshipsWithoutOwnFileId,(function(t,r){return n(\"v-list-item\",{key:r},[n(\"v-list-item-icon\",[t.isLeaf?n(\"v-icon\",[e._v(\"\\n\\t\\t\\t\\t\\t\\tmdi-file\\n\\t\\t\\t\\t\\t\")]):n(\"v-icon\",[e._v(\"\\n\\t\\t\\t\\t\\t\\tmdi-folder\\n\\t\\t\\t\\t\\t\")])],1),e._v(\" \"),n(\"v-list-item-content\",[n(\"v-list-item-title\",{domProps:{textContent:e._s(t.label)}})],1),e._v(\" \"),n(\"v-list-item-content\",[n(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.position,expression:\"item.position\"}],staticClass:\"position\",domProps:{value:t.position},on:{input:[function(n){n.target.composing||e.$set(t,\"position\",n.target.value)},function(n){return e.updatePosition(t)}]}})]),e._v(\" \"),n(\"v-list-item-icon\",[n(\"v-icon\",{on:{click:function(n){return e.removeRelationship(t)}}},[e._v(\"\\n\\t\\t\\t\\t\\t\\tmdi-delete\\n\\t\\t\\t\\t\\t\")])],1)],1)})),1)],1),e._v(\" \"),n(\"div\",[n(\"v-treeview\",{attrs:{dense:\"\",items:e.directoryWithOnlyAllowedEntitiesAndParents},scopedSlots:e._u([{key:\"prepend\",fn:function(t){var r=t.item;return[r.locked?e._e():n(\"div\",[r.checked?n(\"v-icon\",{attrs:{color:\"blue\"},on:{click:function(t){return e.removeRelationship(r)}}},[e._v(\"\\n\\t\\t\\t\\t\\t\\tmdi-check-circle\\n\\t\\t\\t\\t\\t\")]):n(\"v-icon\",{on:{click:function(t){return e.addRelationship(r)}}},[e._v(\"\\n\\t\\t\\t\\t\\t\\tmdi-checkbox-blank-circle-outline\\n\\t\\t\\t\\t\\t\")])],1)]}},{key:\"label\",fn:function(t){var r=t.item;return[r.label?n(\"div\",{staticClass:\"entity_label\"},[e._v(\"\\n\\t\\t\\t\\t\\t\"+e._s(r.label)+\"\\n\\t\\t\\t\\t\")]):e._e()]}}])})],1),e._v(\" \"),n(\"br\")],1)}),[],!1,null,null,null);t.default=w.exports;h()(w,{VIcon:m.a,VList:v.a,VListItem:y.a,VListItemContent:b.a,VListItemGroup:g.a,VListItemIcon:O.a,VListItemTitle:b.b,VTreeview:j.a})},494:function(e,t,n){\"use strict\";n(416)},495:function(e,t,n){var r=n(20)(!1);r.push([e.i,\"input[data-v-3015aead]{width:100%;padding:.375rem .75rem;font-size:1rem;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}input.error[data-v-3015aead]{border-color:#721c24}input.green[data-v-3015aead]{border-color:green;border-width:2px}\",\"\"]),e.exports=r},496:function(e,t,n){\"use strict\";n(417)},497:function(e,t,n){var r=n(20)(!1);r.push([e.i,\".container[data-v-2855c07e]{width:90%;margin:0 auto;padding:50px 0}.quill-editor[data-v-2855c07e]{min-height:200px;max-height:400px;overflow-y:auto}\",\"\"]),e.exports=r},503:function(e,t,n){\"use strict\";n.r(t);var r=n(3),i=n(65),a=n(418),o=n(419),u=n(504),l=n(505),c=n(506),s=n(408);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={components:{SingleLineText:a.default,MultiLineText:o.default,SingleImage:u.default,Relationships:l.default,Editor:c.default},props:{value:{type:Object,required:!0}},data:function(){return{form:{}}},validations:function(){return{form:Object(s.a)(this.schemaElements)}},computed:d(d({},Object(i.b)({schemaElements:\"schema/getSchemaElements\",allowedElements:\"authentication/getAllowedElements\"})),{},{watchSchemaElements:function(){return this.schemaElements}}),watch:{watchSchemaElements:{deep:!0,handler:function(){for(var e in this.schemaElements)this.$set(this.form,e,null)}}},methods:{update:function(e,t){this.form[e]=t,this.$v.form[e].$touch(),this.$emit(\"input\",d(d({},this.value),{},Object(r.a)({},e,t))),this.announceStatus()},validate:function(){this.$v.$touch(),this.announceStatus()},announceStatus:function(){this.$emit(\"status\",{invalid:this.$v.$invalid})}}},h=(n(526),n(55)),m=Object(h.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",e._l(e.schemaElements,(function(t,r){return n(\"div\",{key:t.elementId},[!t.parentId&&e.allowedElements.includes(t.elementId)?n(\"div\",{staticClass:\"element\"},[n(\"h3\",[e._v(\"\\n\\t\\t\\t\\t\"+e._s(t.label)+\"\\n\\t\\t\\t\")]),e._v(\" \"),n(t.componentId,e._b({key:r,tag:\"component\",attrs:{\"element-id\":t.elementId,name:t.label,label:t.label,\"has-error\":e.$v.form[r].$error},on:{input:function(t){return e.update(r,t)}}},\"component\",Object.assign({},t),!1))],1):e._e()])})),0)}),[],!1,null,null,null);t.default=m.exports},504:function(e,t,n){\"use strict\";n.r(t);n(99),n(76);var r=n(17),i=n(3),a=n(84),o=n.n(a),u=n(65),l=n(481),c=n(418),s=n(419),f=n(408);function d(e,t){var n;if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if(\"string\"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={components:{SingleLineText:c.default,MultiLineText:s.default,FileUpload:l.default},props:{elementId:{type:String,required:!0},name:{type:String,required:!0},label:{type:String,required:!0},hasError:{type:Boolean,default:!1}},data:function(){return{fileName:\"\",url:\"\",moveImage:\"\",childElements:[],form:{}}},validations:function(){return{form:Object(f.a)(this.childElements)}},computed:m(m({},Object(u.b)({schemaElements:\"schema/getSchemaElements\",fileData:\"file/getFileData\",saveTrigger:\"infoBox/getSaveTrigger\"})),{},{watchFileData:function(){return this.fileData},watchSchemaElements:function(){return this.schemaElements},watchChildElements:function(){return this.childElements},watchFileName:function(){return this.fileName},watchSaveTrigger:function(){return this.saveTrigger}}),watch:{watchSchemaElements:{deep:!0,handler:function(){this.childElements=[];var e,t=d(this.schemaElements);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parentId===this.elementId&&this.childElements.push(n)}}catch(e){t.e(e)}finally{t.f()}}},watchChildElements:{deep:!0,handler:function(){for(var e in this.childElements)this.$set(this.form,e,null)}},watchFileData:{deep:!0,handler:function(){this.findData()}},watchFileName:function(){var e={data:{fileName:this.fileName},elementId:this.elementId};this.$store.commit(\"file/setEnteredData\",e)},watchSaveTrigger:function(){this.moveImageFromUploadsToImage(),this.moveImageFromImagesToBin()}},mounted:function(){this.findData();var e,t=d(this.schemaElements);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parentId===this.elementId&&this.childElements.push(n)}}catch(e){t.e(e)}finally{t.f()}},methods:{findData:function(){var e=this,t=this.fileData.find((function(t){return t.elementId===e.elementId}));t?(this.fileName=t.data.fileName,this.getImage()):(this.fileName=\"\",this.url=\"\")},getImage:function(){this.fileName?this.url=\"/images/\"+this.fileName:this.url=\"\"},deleteImage:function(){this.fileToDelete=this.fileName,this.fileName=\"\",this.url=\"\",this.moveImage=\"DELETE\"},moveImageFromImagesToBin:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.fileToDelete){t.next=7;break}return n=\"/static/images/\"+e.fileToDelete,r=\"/static/images/bin/\"+e.fileToDelete,t.next=5,o.a.put(\"api/image/moveImage\",null,{params:{oldPath:n,newPath:r}});case 5:\"Successfully deleted\"===t.sent.data&&(e.fileName=\"\",e.url=\"\");case 7:case\"end\":return t.stop()}}),t)})))()},moveImageFromUploadsToImage:function(){var e=\"/static/uploads/\"+this.fileName,t=\"/static/images/\"+this.fileName;o.a.put(\"api/image/moveImage\",null,{params:{oldPath:e,newPath:t}})},fileSuccessfullyUploaded:function(e){console.log(e),this.url=e.url,this.fileName=e.fileName,this.moveImage=\"UPLOADED\"},update:function(e,t){console.log(e,t),this.form[e]=t,this.$v.form[e].$touch(),this.$emit(\"input\",m(m({},this.value),{},Object(i.a)({},e,t)))},announceStatus:function(){this.$emit(\"status\",{invalid:this.$v.$invalid})}}},y=(n(494),n(55)),b=n(67),g=n.n(b),O=n(396),j=n(570),w=Object(y.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",[e.url?n(\"div\",[n(\"v-text-field\",{model:{value:e.fileName,callback:function(t){e.fileName=t},expression:\"fileName\"}}),e._v(\" \"),n(\"img\",{attrs:{src:e.url,width:\"30%\",height:\"30%\"}}),e._v(\" \"),n(\"v-btn\",{on:{click:function(t){return e.deleteImage()}}},[e._v(\"\\n\\t\\t\\tDelete\\n\\t\\t\")]),e._v(\" \"),e._l(e.childElements,(function(t,r){return n(\"div\",{key:t.elementId},[n(\"h4\",[e._v(\"\\n\\t\\t\\t\\t\"+e._s(t.label)+\"\\n\\t\\t\\t\")]),e._v(\" \"),n(t.componentId,e._b({key:r,tag:\"component\",attrs:{\"element-id\":t.elementId,name:t.label,label:t.label,\"has-error\":e.$v.form[r].$error},on:{input:function(t){return e.update(r,t)}}},\"component\",Object.assign({},t),!1))],1)}))],2):n(\"FileUpload\",{on:{uploaded:e.fileSuccessfullyUploaded}})],1)}),[],!1,null,\"3015aead\",null);t.default=w.exports;g()(w,{VBtn:O.a,VTextField:j.a})},505:function(e,t,n){\"use strict\";n.r(t);var r,i,a,o=n(403),u=n(3),l=n(102),c=n.n(l),s=n(65);function f(e,t){var n;if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if(\"string\"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m={components:{Relationship:n(482).default},props:{elementId:{type:String,required:!0},name:{type:String,required:!0},label:{type:String,required:!0},hasError:{type:Boolean,default:!1}},data:function(){return{childElements:[]}},computed:h(h({},Object(s.b)({fileValues:\"file/getFileValues\",schemaElements:\"schema/getSchemaElements\",relationships:\"relationship/getRelationships\",relationshipsToDelete:\"relationship/getRelationshipsToDelete\",saveTrigger:\"infoBox/getSaveTrigger\"})),{},{watchFileId:function(){return this.fileValues.id},watchSchemaElements:function(){return this.schemaElements},watchSaveTrigger:function(){return this.saveTrigger}}),watch:{watchFileId:function(){this.getRelationships()},watchSchemaElements:{deep:!0,handler:function(){this.getChildElements()}},watchSaveTrigger:function(){this.saveRelationships()}},mounted:function(){this.getRelationships(),this.getChildElements()},methods:{getChildElements:function(){this.childElements=[];var e,t=f(this.schemaElements);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parentId===this.elementId&&this.childElements.push(n)}}catch(e){t.e(e)}finally{t.f()}},getRelationships:function(){var e=this;this.fileValues.id&&this.$apollo.query({variables:{fileId:this.fileValues.id},query:c()(r||(r=Object(o.a)([\"\\n\\t\\t\\t\\t\\t\\tquery (\\n\\t\\t\\t\\t\\t\\t\\t$fileId: String\\n\\t\\t\\t\\t\\t\\t) {\\n\\t\\t\\t\\t\\t\\t\\trelationshipsToFileId (\\n\\t\\t\\t\\t\\t\\t\\t\\tfileId: $fileId\\n\\t\\t\\t\\t\\t\\t\\t) {\\n\\t\\t\\t\\t\\t\\t\\t\\trelationshipId\\n\\t\\t\\t\\t\\t\\t\\t\\tfileId\\n\\t\\t\\t\\t\\t\\t\\t\\tposition\\n\\t\\t\\t\\t\\t\\t\\t\\telementId\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\"])))}).then((function(t){e.$store.commit(\"relationship/setRelationships\",t.data.relationshipsToFileId)})).catch((function(e){console.log({error:e})}))},saveRelationships:function(){var e=this;this.$apollo.mutate({variables:{data:this.relationships},mutation:c()(i||(i=Object(o.a)([\"\\n\\t\\t\\t\\t\\tmutation (\\n\\t\\t\\t\\t\\t\\t$data: JSON\\n\\t\\t\\t\\t\\t) {\\n\\t\\t\\t\\t\\t\\tsaveRelationships (\\n\\t\\t\\t\\t\\t\\t\\tdata: $data\\n\\t\\t\\t\\t\\t\\t) \\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\"])))}).then((function(t){console.log(t),e.deleteRelationships()})).catch((function(e){console.log({error:e})}))},deleteRelationships:function(){var e=this;this.$apollo.mutate({variables:{data:this.relationshipsToDelete},mutation:c()(a||(a=Object(o.a)([\"\\n\\t\\t\\t\\t\\tmutation (\\n\\t\\t\\t\\t\\t\\t$data: JSON\\n\\t\\t\\t\\t\\t) {\\n\\t\\t\\t\\t\\t\\tdeleteRelationships (\\n\\t\\t\\t\\t\\t\\t\\tdata: $data\\n\\t\\t\\t\\t\\t\\t)\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\"])))}).then((function(t){console.log(t),e.$store.commit(\"relationship/resetRelationshipsToDelete\")})).catch((function(e){console.log({error:e})}))}}},v=n(55),y=Object(v.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",e._l(e.childElements,(function(t,r){return n(\"div\",{key:t.elementId},[n(\"h4\",[e._v(\"\\n\\t\\t\\t\"+e._s(t.label)+\"\\n\\t\\t\")]),e._v(\" \"),n(t.componentId,e._b({key:r,tag:\"component\",attrs:{\"element-id\":t.elementId,name:t.label,label:t.label}},\"component\",Object.assign({},t),!1))],1)})),0)}),[],!1,null,null,null);t.default=y.exports},506:function(e,t,n){\"use strict\";n.r(t);n(99);var r=n(3),i=n(65);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={props:{elementId:{type:String,required:!0},name:{type:String,required:!0},label:{type:String,required:!0},hasError:{type:Boolean,default:!1}},data:function(){return{content:\"\",editorOption:{}}},computed:o(o({},Object(i.b)({schemaElements:\"schema/getSchemaElements\",fileData:\"file/getFileData\"})),{},{watchSchemaElements:function(){return this.schemaElements},watchContent:function(){return this.content},watchFileData:function(){return this.fileData}}),watch:{watchSchemaElements:{deep:!0,handler:function(){this.findSchemaParameters()}},watchFileData:{deep:!0,handler:function(){this.findData()}},watchContent:{deep:!0,handler:function(){var e={elementId:this.elementId,data:{content:this.content}};this.$store.commit(\"file/setEnteredData\",e)}}},mounted:function(){this.findSchemaParameters(),this.findData()},methods:{findSchemaParameters:function(){var e=this,t=this.schemaElements.find((function(t){return t.elementId===e.elementId}));t&&(this.editorOption=t.parameters)},findData:function(){var e=this,t=this.fileData.find((function(t){return t.elementId===e.elementId}));t&&(this.content=t.data.content)}}},l=(n(496),n(55)),c=Object(l.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"section\",{staticClass:\"container\"},[n(\"client-only\",[n(\"quill-editor\",{staticClass:\"editor\",attrs:{options:e.editorOption},model:{value:e.content,callback:function(t){e.content=t},expression:\"content\"}})],1),e._v(\" \"),n(\"vue-json-pretty\",{attrs:{data:e.editorOption}})],1)}),[],!1,null,\"2855c07e\",null);t.default=c.exports},526:function(e,t,n){\"use strict\";n(480)},527:function(e,t,n){var r=n(20)(!1);r.push([e.i,\".element{padding:20px}\",\"\"]),e.exports=r}}]);","extractedComments":[]}